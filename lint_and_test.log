============================= test session starts ==============================
platform darwin -- Python 3.13.2, pytest-8.4.1, pluggy-1.6.0
rootdir: /Users/bflood/projects/HA/ha-synthetic-sensors
configfile: pyproject.toml
plugins: cov-6.0.0, anyio-4.9.0, asyncio-1.0.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collected 972 items

tests/test_advanced_dependencies.py ..............                       [  1%]
tests/test_attribute_variable_conflicts.py ....                          [  1%]
tests/test_cache_context_validation.py .....                             [  2%]
tests/test_cache_validation.py .....                                     [  2%]
tests/test_collection_functions.py ........................              [  5%]
tests/test_config_manager.py ........................................... [  9%]
................................                                         [ 13%]
tests/test_data_provider_none_handling.py .....                          [ 13%]
tests/test_data_validation.py .............                              [ 14%]
tests/test_dependency_parser.py ......................                   [ 17%]
tests/test_dependency_resolver.py ....................                   [ 19%]
tests/test_device_association.py ......                                  [ 19%]
tests/test_device_association_helper.py ................................ [ 23%]
............                                                             [ 24%]
tests/test_device_yaml_parsing.py ..                                     [ 24%]
tests/test_dynamic_collection_variables.py ........                      [ 25%]
tests/test_empty_collection_behavior.py .........                        [ 26%]
tests/test_enhanced_dependencies.py ...........                          [ 27%]
tests/test_entity_change_handler.py .........................            [ 30%]
tests/test_entity_id_support.py .........                                [ 30%]
tests/test_entity_index.py .........                                     [ 31%]
tests/test_entity_index_integration.py ......                            [ 32%]
tests/test_entity_management.py .............                            [ 33%]
tests/test_entity_registry_listener.py ......................            [ 36%]
tests/test_evaluator.py ...................                              [ 38%]
tests/test_evaluator_cache.py ........                                   [ 38%]
tests/test_evaluator_config.py ...........                               [ 40%]
tests/test_evaluator_none_handling.py ...                                [ 40%]
tests/test_evaluator_simple_references.py ...                            [ 40%]
tests/test_external_entity_id_changes.py ........                        [ 41%]
tests/test_fatal_error_handling.py ...                                   [ 41%]
tests/test_formula_evaluation.py .............                           [ 43%]
tests/test_global_leak_roundtrip.py ..                                   [ 43%]
tests/test_hierarchical_syn_dependencies.py .......                      [ 44%]
tests/test_hybrid_data_access.py ...........                             [ 45%]
tests/test_init.py ............                                          [ 46%]
tests/test_integration.py ..........................................     [ 50%]
tests/test_integration_domain.py ........                                [ 51%]
tests/test_integration_modify_with_evaluation.py ....                    [ 51%]
tests/test_mixed_variable_and_direct_patterns.py ......                  [ 52%]
tests/test_name_resolver.py ........................................     [ 56%]
tests/test_non_numeric_states.py ..............                          [ 58%]
tests/test_numeric_literals.py ...........                               [ 59%]
tests/test_or_area_integration.py ..........................             [ 61%]
tests/test_or_device_class_integration.py ..........................     [ 64%]
tests/test_or_regex_integration.py .....................                 [ 66%]
tests/test_or_tags_integration.py ..........................             [ 69%]
tests/test_readme_examples.py ...                                        [ 69%]
tests/test_reference_patterns.py .......                                 [ 70%]
tests/test_schema_fixtures.py ...........                                [ 71%]
tests/test_schema_validation.py .......................                  [ 73%]
tests/test_sensor_manager.py .........................................   [ 78%]
tests/test_sensor_set.py ............................................... [ 83%]
.........                                                                [ 83%]
tests/test_sensor_set_modify.py ...........                              [ 85%]
tests/test_service_layer.py ..............                               [ 86%]
tests/test_simple_variable_reference.py ..                               [ 86%]
tests/test_state_and_attribute_or_patterns.py ..............             [ 88%]
tests/test_storage_manager.py .........................................  [ 92%]
tests/test_unique_id_patterns.py ..                                      [ 92%]
tests/test_validation_helper.py ........................................ [ 96%]
.............                                                            [ 98%]
tests/test_variable_resolution.py .....                                  [ 98%]
tests/test_yaml_and_factory.py ..............                            [100%]

======================== 972 passed, 1 warning in 4.35s ========================
