version: "1.0"
global_settings:
  domain_prefix: "syn2"

sensors:
  # Single formula sensor
  solar_sold_positive:
    name: "Solar Sold (Positive Value)"
    formula: "abs(solar_power)"
    variables:
      solar_power: "sensor.span_panel_solar_inverter_instant_power"
    unit: "W"
    device_class: "power"
    state_class: "measurement"

  # Multi-formula sensor with calculated attributes
  energy_cost_analysis:
    name: "Energy Cost Analysis"
    state_formula: "current_power * electricity_rate / 1000"
    attributes:
      daily_projected:
        formula: "state * 24"
        unit: "¢"
      monthly_projected:
        formula: "state * 24 * 30"
        unit: "¢"
      annual_projected:
        formula: "state * 24 * 365"
        unit: "¢"
    variables:
      current_power: "sensor.span_panel_instantaneous_power"
      electricity_rate: "input_number.electricity_rate_cents_kwh"
    unit: "¢/h"
    device_class: "monetary"
    state_class: "measurement"
