version: "1.0"
global_settings:
  domain_prefix: "syn2"
  enabled: true

sensors:
  - unique_id: "evaluator_test_basic"
    name: "Evaluator Basic Test"
    description: "Basic formula evaluation test"
    formulas:
      - id: "basic_math"
        name: "Basic Math"
        formula: "A + B * C"
        unit_of_measurement: "units"
        state_class: "measurement"
        variables:
          A: "sensor.test_a"
          B: "sensor.test_b"
          C: "sensor.test_c"
    enabled: true

  - unique_id: "evaluator_test_functions"
    name: "Evaluator Functions Test"
    description: "Test with safe mathematical functions"
    formulas:
      - id: "function_test"
        name: "Function Test"
        formula: "max(temp, 0) + min(humidity, 100) + abs(power)"
        unit_of_measurement: "mixed"
        state_class: "measurement"
        variables:
          temp: "sensor.temperature"
          humidity: "sensor.humidity"
          power: "sensor.power_meter"
    enabled: true

  - unique_id: "evaluator_test_entity_refs"
    name: "Evaluator Entity References Test"
    description: "Test with entity() function references"
    formulas:
      - id: "entity_ref_test"
        name: "Entity Reference Test"
        formula: 'entity("sensor.temp") + entity("sensor.humidity")'
        unit_of_measurement: "mixed"
        state_class: "measurement"
    enabled: true

  - unique_id: "evaluator_test_complex"
    name: "Evaluator Complex Test"
    description: "Complex evaluation with multiple operations"
    formulas:
      - id: "complex_eval"
        name: "Complex Evaluation"
        formula: "((temp * 1.8) + 32) if temp > 0 else 0"
        unit_of_measurement: "Â°F"
        state_class: "measurement"
        variables:
          temp: "sensor.temperature_celsius"
    enabled: true
